LST:
	Buildable:
		BuildPaletteOrder: 1
		Description: General-purpose naval transport.\nCan carry up to 16 Infantry and Vehicles.\n  Unarmed
	Cargo:
		MaxWeight: 16
		PipCount: 16
		PassengerConditions:
			dtrk: demo-inside
		LoadedCondition: loaded	
	RepairableNear:
		RepairActors: syrd, spen
	Explodes@demotruck:
		Weapon: MiniNuke
		EmptyWeapon: MiniNuke
		DamageSource: Killer
		RequiresCondition: demo-inside
	Sellable:
		RequiresCondition: ship.sellable && !loaded

PT:
	Buildable:
		BuildPaletteOrder: 2
		Prerequisites: ~syrd, ~ships.allies, ~techlevel.low
	-Turreted:
	Turreted@PRIMARY:
		Turret: primary
		TurnSpeed: 7
		Offset: 512,0,0
	Turreted@SECONDARY:
		Turret: secondary
		TurnSpeed: 5
		Offset: -461,0,18
	Armament@PRIMARY:
		Turret: primary
		PauseOnCondition: empdisable
	Armament@SECONDARY:
		Turret: secondary
		PauseOnCondition: empdisable
	Armament@TERTIARY:
		Name: tertiary
		Turret: secondary
		Weapon: M60mg
		LocalOffset: 128,0,43
		MuzzleSequence: mg-muzzle
		PauseOnCondition: empdisable
	AttackTurreted:
		Armaments: primary, secondary, tertiary
		Turrets: primary, secondary
		PauseOnCondition: empdisable
	-WithSpriteTurret:
	WithSpriteTurret@PRIMARY:
		Turret: primary
		Sequence: turret
	WithSpriteTurret@SECONDARY:
		Turret: secondary
		Sequence: turret-dc
	HitShape:
		TargetableOffsets: 341,0,0, -341,0,0
		Type: Capsule
			Radius: 288
			PointA: 0, -341
			PointB: 0, 341

RSHP:
	Inherits: ^Ship
	Inherits@selection: ^SelectableSupportUnit
	Buildable:
		Queue: Ship
		BuildAtProductionType: Boat
		BuildPaletteOrder: 5
		Prerequisites: ~syrd, fix, ~player.allies, ~techlevel.medium
		Description: Light support ship.\nRepairs nearby Ships and Submarines.\nLays sea mines to destroy\nunwary enemy Ships and Submarines.\nRestocks Sea Mines when near\na Naval yard or an Sub Pen.\nCan detect submarines.\n  Unarmed
	Valued:
		Cost: 750
	Tooltip:
		Name: Repair Ship
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 20000
	Armor:
		Type: Heavy
	Mobile:
		TurnSpeed: 7
		Speed: 85
	RevealsShroud:
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	Turreted:
		TurnSpeed: 7
		Offset: -461,0,-80
	Armament:
		Weapon: Repair
		Cursor: repair
		OutsideRangeCursor: repair
		TargetStances: Ally
		ForceTargetStances: None
		Turret: primary
		PauseOnCondition: empdisable
	AttackTurreted:
		PauseOnCondition: empdisable
	SelectionDecorations:
	WithSpriteTurret:
	DetectCloaked:
		CloakTypes: Underwater
		Range: 4c0
	RenderDetectionCircle:
	Selectable:
		DecorationBounds: 36,36
	AutoTarget:
	AutoTargetPriority@DEFAULT:
		ValidTargets: Ship, Submarine
	Minelayer:
		Mine: MINS
	Rearmable:
		RearmActors:
	MineImmune:
	AmmoPool:
		Armaments:
		Ammo: 3
		RearmSound: minelay1.aud
	ReloadAmmoPool:
		Delay: 300
		Count: 1
		Sound: minelay1.aud
		RequiresCondition: replenishsmine
	WithDecoration@minereplenish:
		RequiresSelection: true
		Image: pips
		Sequence: tag-reload
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: replenishsmine
	ExternalCondition@MINEREPLENISH:
		Condition: replenishsmine
	HitShape:
		TargetableOffsets: 341,0,0, -341,0,0
		Type: Capsule
			Radius: 288
			PointA: 0, -341
			PointB: 0, 341

DD:
	Buildable:
		BuildPaletteOrder: 3
		Prerequisites: ~syrd, dome, ~ships.allies, ~techlevel.medium
	Valued:
		Cost: 900
	-Turreted:
	Turreted@PRIMARY:
		Turret: primary
		TurnSpeed: 7
		Offset: 469,0,128
	Turreted@SECONDARY:
		Turret: secondary
		TurnSpeed: 5
		Offset: -761,0,128
	Armament@PRIMARY:
		Turret: primary
		PauseOnCondition: empdisable
	Armament@SECONDARY:
		Name: secondary
		Turret: secondary
		Weapon: DepthChargeDual
		PauseOnCondition: empdisable
	Armament@TERTIARY:
		Name: tertiary
		Turret: primary
		PauseOnCondition: empdisable
	AttackTurreted:
		Armaments: primary, secondary, tertiary
		Turrets: primary, secondary
		PauseOnCondition: empdisable
	-WithSpriteTurret:
	WithSpriteTurret@PRIMARY:
		Turret: primary
		Sequence: turret
	WithSpriteTurret@SECONDARY:
		Turret: secondary
		Sequence: turret-dc
	WithMuzzleOverlay:
	HitShape:
		TargetableOffsets: 448,0,0, -448,0,0
		Type: Capsule
			Radius: 320
			PointA: 0, -448
			PointB: 0, 448
	RenderRangeCircle:

CA:
	Buildable:
		BuildPaletteOrder: 4
		BuildDurationModifier: 60
		Prerequisites: ~syrd, atek, ~ships.allies, ~techlevel.high
	Valued:
		Cost: 2000
	Armament@PRIMARY:
		PauseOnCondition: empdisable
	Armament@SECONDARY:
		PauseOnCondition: empdisable
	AttackTurreted:
		PauseOnCondition: empdisable
	RenderRangeCircle:
	ReloadArmamentsBar:
		Color: FFFF00
	HitShape:
		TargetableOffsets: 576,0,0, -576,0,0
		Type: Capsule
			Radius: 341
			PointA: 0, -576
			PointB: 0, 576

CARR:
	Inherits: ^Ship
	Buildable:
		Queue: Ship
		BuildAtProductionType: Boat
		BuildPaletteOrder: 6
		Prerequisites: ~syrd, dome, atek, ~techlevel.medium
		Description: Nautical Support vessel.\nCan be deployed, becoming immobile\nto produce, repair and rearm\nAircrafts at Sea.\nDetects Submarines when deployed.\n  Unarmed
	Valued:
		Cost: 2000
	Tooltip:
		Name: Aircraft Carrier
	Health:
		HP: 65000
	Armor:
		Type: Heavy
	Mobile:
		TurnSpeed: 3
		Speed: 42
	RevealsShroud:
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	SelectionDecorations:
	Selectable:
		DecorationBounds: 72,48
	Transforms:
		IntoActor: carr.deployed
		Offset: -1,0
		Facing: 192
	RenderSprites:
		Image: carr.usa
		Scale: 0.9
	HitShape:
		TargetableOffsets: 753,0,0, 0,0,0, -753,0,0
		Type: Capsule
			Radius: 341
			PointA: 0, -753
			PointB: 0, 753

CARR.Deployed:
	Inherits: ^Building
	Selectable:
		Class: afld
		Bounds: 72,48
	-GivesBuildableArea:
	-RepairableBuilding:
	-WithBuildingRepairDecoration:
	-EngineerRepairable:
	-AcceptsDeliveredCash:
	-WithMakeAnimation:
	-CaptureManager:
	-Capturable:
	-Capturable@2:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-SpawnActorsOnSell:
	-GpsDot:
	GpsDot:
		String: Ship
	-Demolishable:
	-Sellable:
	-Explodes:
	Explodes:
		Weapon: UnitExplodeShip
		EmptyWeapon: UnitExplodeShip
	Valued:
		Cost: 2000
	Tooltip:
		Name: Aircraft Carrier
	Building:
		Footprint: xxx
		Dimensions: 3,1
		TerrainTypes: Water
		RequiresBaseProvider: False
	-RequiresBuildableArea:
	-ShakeOnDeath:
	Health:
		HP: 65000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Transforms:
		IntoActor: carr
		Offset: 1,0
		Facing: 192
	Reservable:
	WithDecoration@deployed:
		Image: pips
		Sequence: tag-deployed
		ReferencePoint: Top
		ZOffset: 256
	Targetable:
		TargetTypes: Ground, Water, Ship
	WithResupplyAnimation:
	-MapEditorData:
	SelfHealing:
		Step: -100
		Delay: 3
		HealIfBelow: 100
		DamageCooldown: 0
		RequiresCondition: disabled
	Exit@1:
		SpawnOffset: 0,-256,0
		ExitCell: 1,2
		ExitDelay: 3
		Facing: 192
	Production:
		Produces: MWFAir
		PauseOnCondition: disabled
	ProductionQueue:
		Type: MWFAir
		Group: Plane
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		LowPowerModifier: 300
	ProvidesPrerequisite@allies:
		Factions: allies, britain, france, germany
		Prerequisite: aircraft.allies
		ResetOnOwnerChange: True
	ProvidesPrerequisite@soviet:
		Factions: soviet, russia, ukraine, belarus
		Prerequisite: aircraft.soviet
		ResetOnOwnerChange: True
	ProductionBar:
		ProductionType: MWFAir
	ProvidesPrerequisite@ISAIRFIELD:
		Prerequisite: afld
	RenderSprites:
		Image: carr.usa.deployed
		Scale: 0.9
	DetectCloaked:
		CloakTypes: Underwater
		Range: 7c0
	RenderDetectionCircle:
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 512
	#	HitShape:
	#	TargetableOffsets: 653,0,0, -653,0,0
	#	Type: Capsule
	#	Radius: 341
	#	PointA: 0, -653
	#	PointB: 0, 653
	ActorLostNotification:
		Notification: NavalUnitLost

SS:
	Buildable:
		Prerequisites: ~disabled

#	clone of SS to circumvent bugs with it inheriting weird vision from somewhere
SS.new:
	Inherits: ^Submarine
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Buildable:
		Queue: Ship
		BuildAtProductionType: Submarine
		BuildPaletteOrder: 2
		Prerequisites: ~spen, ~techlevel.low
		Description: Submerged anti-ship unit\narmed with torpedoes.\nCan detect other submarines.\n  Strong vs Naval units\n  Weak vs Ground units, Aircraft\n  Special Ability: Submerge\nCan dive underwater to become invisible\nmove unseen and avoid damage of most weapons.\nCan be manually ordered to surface for Repairs.
	Valued:
		Cost: 775
	Tooltip:
		Name: Submarine
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 25000
	Armor:
		Type: Light
	Mobile:
		TurnSpeed: 4
		Speed: 71
	Armament:
		Weapon: TorpTube
		LocalOffset: 0,-171,0, 0,171,0
		FireDelay: 2
		PauseOnCondition: empdisable
	AttackFrontal:
		PauseOnCondition: empdisable
	SelectionDecorations:
	AutoTarget:
		InitialStance: Defend
		InitialStanceAI: ReturnFire
	AutoTargetPriority@DEFAULT:
		ValidTargets: Water, Underwater
	AutoTargetPriority@ATTACKANYTHING:
		ValidTargets: Water, Underwater
	Selectable:
		DecorationBounds: 38,38
	RenderSprites:
		Image: ss
	HitShape:
		TargetableOffsets: 448,0,0, -448,0,0
		Type: Capsule
			Radius: 256
			PointA: 0, -448
			PointB: 0, 448

SS.AG:
	Inherits: SS.new
	Valued:
		Cost: 950
	Buildable:
		Queue: Ship
		BuildAtProductionType: Submarine
		BuildPaletteOrder: 5
		Prerequisites: ~spen, stek, ~techlevel.high
		Description: Submerged multi-role unit\narmed with torpedoes and grenadelauncher.\nCan carry two Infantry.\nCan detect other submarines.\n  Strong vs Infantry, Buildings\n  Weak vs Tanks, Aircraft\n  Special Ability: Submerge\nCan dive underwater to become invisible\nmove unseen and avoid damage of most weapons.
	Tooltip:
		Name: Attack Submarine
	Health:
		HP: 32500
	Mobile:
		TurnSpeed: 3
		Speed: 42
		PauseOnCondition: !(!notmobile && !empdisable)
	Armament@SECONDARY:
		Name: secondary
		Weapon: GrenadeLauncher.sub
		LocalOffset: 612,0,192
		MuzzleSequence: muzzle
		PauseOnCondition: empdisable
	AttackFrontal:
		Armaments: primary, secondary
	WithMuzzleOverlay:
	WithMoveAnimation:
		MoveSequence: move
		RequiresCondition: !underwater
	RenderSprites:
		Image: ADVSUB
	Cargo:
		MaxWeight: 2
		PipCount: 2
		Types: Infantry
		PassengerFacing: 0
		LoadingCondition: notmobile
	-Cloak:
	Cloak:
		CloakTypes: Underwater
		InitialDelay: 0
		CloakDelay: 50
		CloakSound: subshow1.aud
		UncloakSound: subshow1.aud
		CloakedCondition: underwater
		Palette: submerged
		UncloakOn: Attack, Heal, Unload, Dock, SelfHeal, Demolish
		PauseOnCondition: cloak-force-disabled || shallowcrossing || empdisable || minehit || is-shooting
		RequiresCondition: !notmobile
	GrantConditionOnAttack@UNCLOAK:
		Condition: is-shooting
		ArmamentNames: secondary
		RevokeDelay: 50
	-GrantConditionOnDeploy:
	HitShape:
		TargetableOffsets: 576,0,0, -576,0,0
		Type: Capsule
			Radius: 341
			PointA: 0, -576
			PointB: 0, 576

MSUB:
	Buildable:
		Prerequisites: ~disabled

#	clone of MSUB to circumvent bugs with it inheriting weird vision from somewhere
MSUB.new:
	Inherits: ^Submarine
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Buildable:
		Queue: Ship
		BuildAtProductionType: Submarine
		BuildPaletteOrder: 4
		Prerequisites: ~spen, stek, ~techlevel.high
		Description: Submerged anti-ground siege unit.\nCan detect other submarines.\n  Strong vs Buildings, Ground units, Aircraft\n  Weak vs Naval units\n  Special Ability: Submerge\nCan dive underwater to become invisible\nmove unseen and avoid damage of most weapons.\nCan be manually ordered to surface for Repairs.
		BuildDurationModifier: 60
	Valued:
		Cost: 1750
	Tooltip:
		Name: Missile Submarine
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 40000
	Armor:
		Type: Light
	Mobile:
		TurnSpeed: 3
		Speed: 42
	Armament@PRIMARY:
		Weapon: SubMissile.2shot
		LocalOffset: 0,-171,0
		FireDelay: 2
		PauseOnCondition: empdisable
	Armament@SECONDARY:
		Name: secondary
		Weapon: SubMissile.2shot
		LocalOffset: 0,171,0
		FireDelay: 2
		PauseOnCondition: empdisable
	AttackFrontal:
		TargetFrozenActors: True
		ForceFireIgnoresActors: True
		PauseOnCondition: empdisable
	SelectionDecorations:
	Selectable:
		DecorationBounds: 38,38
	AutoTarget:
		InitialStance: HoldFire
		InitialStanceAI: ReturnFire
	WithMoveAnimation:
		MoveSequence: move
		RequiresCondition: !underwater
	RenderSprites:
		Image: ADVMSUB
	ReloadArmamentsBar:
		Armaments: primary
		Color: FFFF00
	RenderRangeCircle:
	RevealsShroud:
		MinRange: 5c0
		Range: 8c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	HitShape:
		TargetableOffsets: 576,0,0, -576,0,0
		Type: Capsule
			Radius: 341
			PointA: 0, -576
			PointB: 0, 576

MSUB.AA:
	Inherits: MSUB.new
	Buildable:
		BuildPaletteOrder: 3
		Prerequisites: ~spen, dome, ~techlevel.medium
		Description: Submerged unit with anti-air capabilities.\nCan detect other submarines.\n  Strong vs Aircraft\n  Cannot attack ground units\n  Special Ability: Submerge\nCan dive underwater to become invisible\nmove unseen and avoid damage of most weapons.\nCan be manually ordered to surface for Repairs.
	Tooltip:
		Name: SAM Submarine
	Valued:
		Cost: 1250
	Health:
		HP: 25000
	Mobile:
		TurnSpeed: 4
		Speed: 71
	-Armament@PRIMARY:
	-Armament@SECONDARY:
	Armament@PRIMARY:
		Weapon: SubMissileAA.cluster
		#	LocalOffset: 0,-171,101, 0,171,101
		LocalOffset: 0,0,101
		FireDelay: 2
		PauseOnCondition: empdisable
	-AttackFrontal:
	AttackTurreted:
		Armaments: primary
		PauseOnCondition: empdisable
	Turreted:
		TurnSpeed: 7
		Offset: 461,0,-100
	WithSpriteTurret:
		RequiresCondition: !underwater
	-WithMoveAnimation:
	RenderSprites:
		Image: MSUB
	ReloadArmamentsBar:
		Color: FFFF00
	HitShape:
		TargetableOffsets: 448,0,0, -448,0,0
		Type: Capsule
			Radius: 256
			PointA: 0, -448
			PointB: 0, 448

FSUB:
	Inherits: ^Submarine
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Buildable:
		Queue: Ship
		BuildAtProductionType: Submarine
		BuildPaletteOrder: 6
		Prerequisites: ~spen, ftur, dome, ~techlevel.high
		Description: Submerged anti-ship unit\narmed with fireball launcher.\n Strong vs Ships and Infantry.\n Weak vs Aircraft and Defenses.\n  Special Ability: Submerge\nCan dive underwater to become invisible\nmove unseen and avoid damage of most weapons.\nCan be manually ordered to surface for Repairs.
	Valued:
		Cost: 800
	Tooltip:
		Name: Flame Submarine
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 25000
	Armor:
		Type: Light
	Mobile:
		TurnSpeed: 3
		Speed: 42
	Armament:
		Weapon: FireballLauncher.Single
		LocalOffset: 512,0,88
		PauseOnCondition: empdisable
	Turreted:
		TurnSpeed: 255
		Offset: 525,0,-46
	WithSpriteTurret:
		RequiresCondition: !underwater
	AttackFrontal:
		PauseOnCondition: empdisable
	SelectionDecorations:
	Selectable:
		DecorationBounds: 38,38
	AutoTarget:
		InitialStance: ReturnFire
		InitialStanceAI: ReturnFire
	Selectable:
		DecorationBounds: 38,38
	-Cloak:
	Cloak:
		CloakTypes: Underwater
		InitialDelay: 0
		CloakDelay: 50
		CloakSound: subshow1.aud
		UncloakSound: subshow1.aud
		CloakedCondition: underwater
		Palette: submerged
		UncloakOn: Attack, Heal, Unload, Dock, SelfHeal, Demolish
		PauseOnCondition: cloak-force-disabled || shallowcrossing || empdisable || minehit || is-shooting
		RequiresCondition: !deployed
	GrantConditionOnAttack@UNCLOAK:
		Condition: is-shooting
		ArmamentNames: secondary
		RevokeDelay: 50
	HitShape:
		TargetableOffsets: 448,0,0, -448,0,0
		Type: Capsule
			Radius: 320
			PointA: 0, -448
			PointB: 0, 448

MINS:
	Inherits: ^Mine
	Tooltip:
		Name: Sea Mine
	Health:
		HP: 5000
		NotifyAppliedDamage: false
	Cloak:
		CloakTypes: Underwater
		InitialDelay: 0
		CloakDelay: 50
		CloakSound: subshow1.aud
		UncloakSound: subshow1.aud
		Palette: submerged
	RenderSprites:
		Image: mins
	Targetable:
		TargetTypes: Underwater
	Explodes:
		Weapon: ASMine
	GrantExternalConditionToCrusher:
		OnCrushCondition: minehit
		OnCrushDuration: 50
